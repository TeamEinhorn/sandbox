sudo: required

language: java
jdk:
  - oraclejdk8
  
services:
  - docker
  
  
before_install:
  - chmod +x gradlew

install:
  - ./gradlew shadowJar
  - docker build -t sandbox .

before_script:
  - docker run -d -p 8080:8080 sandbox
  
script:
  - ./gradlew check
  - docker ps -a | grep sandbox
  - wget http://localhost:8080 | grep Hello
  
after_success:
  - echo "Upload to docker hub"
